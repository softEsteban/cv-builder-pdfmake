<div class="container">
  <div style="display: flex; justify-content: space-between">
    <h2 style="margin-top: 20px">CV Builder</h2>
    <div style="display: flex; gap: 15px">
      <button class="btn btn-primary mt-4" (click)="createPdf()">
        View pdf
      </button>
      <button class="btn btn-primary mt-4" (click)="downloadPdf()">
        Download pdf
      </button>
      <button class="btn btn-primary mt-4" (click)="sendData()">
        Send data
      </button>
    </div>
  </div>

  <div class="mt-4 form-sections">
    <div style="margin-bottom: 24px">
      <h4 class="mb-3 font-weight-bold">Personal Info</h4>
      <form [formGroup]="cvForm">
        <div class="row">
          <div class="form-group col">
            <label for="name">Name</label>
            <input
              formControlName="name"
              type="text"
              class="form-control"
              id="name"
              placeholder="Enter your name"
            />
            <div
              *ngIf="cvForm.get('name').invalid && cvForm.get('name').touched"
            >
              <div *ngIf="cvForm.get('name').hasError('required')">
                Name is required
              </div>
            </div>
          </div>

          <div class="form-group col">
            <label for="email">Email</label>
            <input
              formControlName="email"
              type="text"
              class="form-control"
              id="email"
              placeholder="Enter your email"
            />
            <div
              *ngIf="cvForm.get('email').invalid && cvForm.get('email').touched"
            >
              <div *ngIf="cvForm.get('email').hasError('required')">
                Email is required
              </div>
            </div>
          </div>

          <div class="form-group col">
            <label for="phone">Phone</label>
            <input
              formControlName="phone"
              type="text"
              class="form-control"
              id="phone"
              placeholder="Enter your phone"
            />
            <div
              *ngIf="cvForm.get('phone').invalid && cvForm.get('phone').touched"
            >
              <div *ngIf="cvForm.get('phone').hasError('required')">
                Phone is required
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group col">
            <label for="headline">Headline</label>
            <input
              formControlName="headline"
              type="text"
              class="form-control"
              id="headline"
              placeholder="Enter your headline"
            />
            <div
              *ngIf="
                cvForm.get('headline').invalid && cvForm.get('headline').touched
              "
            >
              <div *ngIf="cvForm.get('headline').hasError('required')">
                Headline is required
              </div>
            </div>
          </div>

          <div class="form-group col">
            <label for="profile">Profile</label>
            <input
              formControlName="profile"
              type="text"
              class="form-control"
              id="profile"
              placeholder="Enter your profile"
            />
            <div
              *ngIf="
                cvForm.get('profile').invalid && cvForm.get('profile').touched
              "
            >
              <div *ngIf="cvForm.get('profile').hasError('required')">
                Profile is required
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>

    <div class="row" style="margin-bottom: 24px">
      <div class="col-12">
        <h4 class="mb-3 font-weight-bold">Education</h4>
      </div>
      <div class="col-4 education-cards">
        <div class="card-group">
          <div class="card" *ngFor="let item of education">
            <div class="card-body">
              <h5 class="card-title">{{ item.degree }}</h5>
              <h6 class="card-subtitle mb-2 text-muted">
                {{ item.institute }}
              </h6>
              <p class="card-text">{{ item.dateStart }} - {{ item.dateEnd }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="margin-bottom: 24px">
      <button class="btn btn-link btn-sm" (click)="addEducation()">
        <i class="fas fa-plus">Add</i>
      </button>
      <form>
        <div class="row">
          <div class="form-group col">
            <label for="degree">Degree</label>
            <input
              type="text"
              class="form-control"
              id="degree"
              placeholder="Enter your degree"
            />
          </div>
          <div class="form-group col">
            <label for="institution">Institution</label>
            <input
              type="institution"
              class="form-control"
              id="institution"
              placeholder="Enter your institution"
            />
          </div>

          <!-- <mat-form-field class="form-group col">
            <label for="year">Year</label>
            <input
              matInput
              type="tel"
              class="form-control"
              id="year"
              placeholder="Enter your year number"
              [matDatepicker]="yearPicker"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="yearPicker"
            ></mat-datepicker-toggle>
            <mat-datepicker #yearPicker style="width: 200px"></mat-datepicker>
          </mat-form-field> -->
        </div>
      </form>
    </div>

    <div class="row" style="margin-bottom: 24px">
      <div class="col-12">
        <h4 class="mb-3 font-weight-bold">Experience</h4>
      </div>
      <div class="col-4">
        <div class="card-group">
          <div class="card" *ngFor="let item of experience">
            <div class="card-body">
              <h5 class="card-title">{{ item.company }}</h5>
              <h6 class="card-subtitle mb-2 text-muted">{{ item.charge }}</h6>
              <p class="card-text">{{ item.dateStart }} - {{ item.dateEnd }}</p>
              <p class="card-text">{{ item.description }}</p>
              <ul>
                <li *ngFor="let function of item.functions">{{ function }}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div>
        <button class="btn btn-link btn-sm" (click)="addEducation()">
          <i class="fas fa-plus">Add</i>
        </button>
        <form>
          <div class="row">
            <div class="form-group col">
              <label for="company">Company</label>
              <input
                type="text"
                class="form-control"
                id="company"
                placeholder="Enter your company"
              />
            </div>
            <div class="form-group col">
              <label for="position">Position</label>
              <input
                type="position"
                class="form-control"
                id="position"
                placeholder="Enter your position"
              />
            </div>
            <div class="form-group col">
              <label for="year1">Enter Year</label>
              <input
                type="year"
                class="form-control"
                id="year1"
                placeholder="Enter your enter year number"
              />
            </div>
            <div class="form-group col">
              <label for="year2">Finish Year</label>
              <input
                type="year"
                class="form-control"
                id="year2"
                placeholder="Enter your finish year number"
              />
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="mt-4 pdf-viewer">
      <ng-container *ngIf="pdfSrc">
        <iframe [src]="pdfSrc" width="100%" height="500px"></iframe>
      </ng-container>
    </div>
  </div>
</div>
